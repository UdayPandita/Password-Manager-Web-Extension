<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>LPH Password Manager</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      font: 13px/1.4 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,system-ui;
      margin: 0;
      padding: 12px;
      min-width: 380px;
      box-sizing: border-box;
      background: #0f0f0f;
      color: #fff;
    }
    header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      padding-bottom: 8px;
      border-bottom: 1px solid rgba(255,255,255,0.04);
    }
    h1 {
      font-size: 26px;
      margin: 0;
      flex: 1;
      font-weight: 700;
      color: #fff;
      letter-spacing: -0.5px;
    }
    .status {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      color: #bdbdbd;
    }
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #8a8a8a;
      display:inline-block;
    }
    .status-dot.unlocked {
      background: #4CAF50;
    }
    .status-dot.synced {
      background: #2196F3;
    }
    .toolbar {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .toolbar button,
    .toolbar a {
      padding: 4px 8px;
      font-size: 11px;
      text-decoration: none;
      border-radius: 4px;
    }
    .sync-info {
      background: #f0f8ff;
      border: 1px solid #cce7ff;
      border-radius: 8px;
      padding: 8px;
      margin-bottom: 12px;
      font-size: 12px;
    }
    .sync-info.signed-out {
      background: #fff9e6;
      border-color: #ffe699;
    }
    .sync-info strong {
      display: block;
      margin-bottom: 4px;
    }
    .sync-info button {
      margin-top: 8px;
      font-size: 11px;
      padding: 4px 12px;
    }
    .row {
      margin: 8px 0;
    }
    .cred {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin: 6px 0;
      word-break: break-word;
      overflow-wrap: anywhere;
    }
    .cred strong {
      display: block;
      margin-bottom: 4px;
    }
    .cred-actions {
      display: flex;
      gap: 6px;
      margin-top: 6px;
      flex-wrap: wrap;
    }
    button {
      cursor: pointer;
    }
    .muted {
      color: #666;
    }
    .left-link {
      color: #e6e6e6;
      text-decoration: underline;
      font-weight: 600;
      padding: 8px 4px;
      font-size: 16px;
      border-radius: 6px;
    }

    /* search box styling to match mock */
    #searchBox {
      border: 1px solid rgba(255,255,255,0.06);
      background: rgba(40,40,40,0.6);
      color: #cfcfcf;
      box-shadow: none;
    }
    #searchBox::placeholder { color: #8f8f8f; }
    #searchBtn {
      width:44px; height:44px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px;
      border: 1px solid rgba(255,255,255,0.06); background: rgba(40,40,40,0.6); color:#ddd;
    }
    #viewAllBtn { border-radius:12px; padding:10px 16px; }
    #site {
      display: inline-block;
      max-width: 100%;
      overflow-wrap: anywhere;
      word-break: break-word;
      font-weight: 500;
    }
    input[type="password"] {
      min-width: 340px;
      box-sizing: border-box;
    }
    .btn-primary {
      background: #007AFF;
      color: white;
      border: none;
    }
    .btn-primary:hover {
      background: #0051D5;
    }
    .btn-danger {
      color: #b00;
    }
  </style>
</head>
<body>
  <div class="app-root" style="display:flex; gap:12px; width:760px;">
    <!-- Sidebar -->
    <aside style="width:180px; background:transparent; padding:12px; border-radius:8px; box-sizing:border-box;">
      <nav style="margin-top:6px; display:flex; flex-direction:column; gap:14px;">
        <a href="#" class="left-link">Account Security</a>
  <a href="#" id="addLink" class="left-link">Add Password</a>
        <a href="#" class="left-link">Secure Share</a>
      </nav>
      <div style="margin-top:20px; display:flex; align-items:center; gap:8px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 1v2" stroke="#000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        <a href="#" id="optionsLink">Settings</a>
      </div>
    </aside>

    <!-- Main area -->
    <main style="flex:1; padding:8px; box-sizing:border-box;">
      <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:12px;">
        <div style="display:flex; align-items:center; gap:12px;">
          <img src="icons/logo.png" alt="LPH" id="popupLogo" style="width:56px; height:56px; border-radius:10px; object-fit:cover; background:#fff; padding:4px; box-shadow:0 2px 6px rgba(0,0,0,0.25);">
          <h1 style="margin:0;">Welcome back, User</h1>
        </div>
        <div style="display:flex; gap:8px; align-items:center;">
          <div class="status" style="display:flex; gap:6px; align-items:center;">
            <span class="status-dot" id="statusDot"></span>
            <span id="statusText">Locked</span>
          </div>
          <button id="lockBtn" style="display:none;">Lock</button>
          <a href="#" id="logoutBtn" style="display:none; color:#9aa4ff; margin-left:8px; text-decoration:underline;">Sign Out</a>
        </div>
      </div>

      <div style="display:flex; align-items:center; gap:8px; margin-top:12px;">
        <input id="searchBox" type="text" placeholder="Search websites..." style="flex:1; padding:14px 18px; border-radius:28px; border:1px solid #6b6b6b; background:#262626; color:#cfcfcf; font-size:13px;">
        <button id="searchBtn" style="padding:10px; border-radius:10px; background:#2b2b2b; color:#ddd; border:1px solid #6b6b6b;">ðŸ”Ž</button>
        <button id="viewAllBtn" style="padding:10px 14px; border-radius:10px; margin-left:6px; background:#2b2b2b; color:#fff; border:1px solid #6b6b6b;">View All</button>
      </div>

      <section id="syncInfo" style="margin-top:12px; display:none;"></section>

      <!-- Locked / Unlock area -->
      <div id="lockedView" style="margin-top:12px; display:none;">
        <div>Enter master password to unlock:</div>
        <div style="margin-top:8px;">
          <input type="password" id="unlockPwd" placeholder="Master password" style="width:100%; padding:8px; border-radius:8px; border:1px solid #ddd;">
        </div>
        <div style="margin-top:8px;">
          <button id="unlockBtn" class="btn-primary" style="width:100%;">Unlock</button>
        </div>
      </div>

      <!-- Grid of site cards -->
      <div id="unlockedView" style="margin-top:16px; display:none;">
        <h3 style="margin:0 0 12px 0; font-size:16px;">Websites</h3>
        <div id="credsGrid" style="display:grid; grid-template-columns:1fr 1fr; gap:14px;">
          <!-- cards will be injected here -->
        </div>
        <div class="row muted" id="noCreds" style="display:none; margin-top:12px;">No saved credentials.</div>
      </div>
    </main>
  </div>

  <script type="module" src="popup.js"></script>
</body>
</html>